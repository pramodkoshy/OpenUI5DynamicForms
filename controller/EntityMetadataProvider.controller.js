sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("com.supabase.easyui5.enhanced.EnhancedMetadataProvider",{getEnhancedTableMetadata:function(e){return this.getOwnerComponent().getTableMetadata(e).then(n=>{const t=JSON.parse(JSON.stringify(n));t._enhanced=true;const r=t.primaryKey;if(r==="id"){t.primaryKey=`${e}_id`;const n=t.columns.findIndex(e=>e.name===r);if(n>=0){t.columns[n].name=`${e}_id`;t.columns[n].label=`${e.charAt(0).toUpperCase()+e.slice(1)} ID`}}return t})},getPrimaryKeyValue:function(e,n,t){const r=t?Promise.resolve(t):this.getEnhancedTableMetadata(e);return r.then(t=>{const r=t.primaryKey;const a=t.compositePrimaryKey;const i=[r,a,`${e}_${r}`,"ID","key","uuid"];for(const e of i){if(e&&n[e]!==undefined){return n[e]}}const s=Object.keys(n)[0];return n[s]})},buildPrimaryKeyQuery:function(e,n,t,r){if(!e){return Promise.reject(new Error("Supabase client is required"))}let a=e.from(n).select("*");const i=r?Promise.resolve(r):this.getEnhancedTableMetadata(n);return i.then(e=>{const r=e.primaryKey||`${n}_id`;return a.eq(r,t)})}})});
//# sourceMappingURL=EntityMetadataProvider.controller.js.map