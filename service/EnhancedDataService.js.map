{"version":3,"file":"EnhancedDataService.js","names":["sap","ui","define","BaseObject","JSONModel","extend","constructor","oSupabaseClient","oMetadataProvider","call","this","_oSupabaseClient","_oMetadataProvider","_mMetadataCache","_mRelationCache","_mEntityCache","_iCacheDuration","setCacheDuration","iDurationMs","getMetadata","sTableId","oCachedMetadata","Date","now","timestamp","Promise","resolve","data","getEnhancedTableMetadata","then","oMetadata","getRelationOptions","sRelatedTable","sPrimaryKey","sTitleField","sCacheKey","oCachedOptions","from","select","error","reject","aOptions","map","item","key","text","getEntityById","sEntityId","oCachedEntity","buildPrimaryKeyQuery","query","single","Error","listEntities","oFilter","sFilterString","JSON","stringify","oCachedList","Object","keys","forEach","sKey","vValue","undefined","eq","createEntity","oData","insert","_invalidateListCache","length","updateEntity","update","deleteEntity","delete","startsWith","clearCaches"],"sources":["EnhancedDataService-dbg.js"],"mappings":"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","ignoreList":[]}